<odoo>

<record id="view_helpdesk_obra_secundaria_tree" model="ir.ui.view">
    <field name="name">helpdesk.obra_secundaria.tree</field>
    <field name="model">res.partner.obra_secundaria</field>
    <field name="arch" type="xml">
        <tree string="Obra/Sede" editable="bottom">
            <field name="name"/>
        </tree>
    </field>
</record>

<record id="view_helpdesk_estancia_tree" model="ir.ui.view">
    <field name="name">helpdesk.estancia.tree</field>
    <field name="model">res.partner.estancia_id</field>
    <field name="arch" type="xml">
        <tree string="Estancia" editable="bottom">
            <field name="name"/>
        </tree>
    </field>
</record>

<record id="action_helpdesk_obra_secundaria" model="ir.actions.act_window">
    <field name="name">Obra/Sede</field>
    <field name="res_model">res.partner.obra_secundaria</field>
    <field name="view_mode">tree,form</field>
    <field name="help" type="html">
        <p class="o_view_nocontent_smiling_face">
            Create a new Obra/Sede
        </p>
    </field>
</record>

<record id="view_helpdesk_estancia_form" model="ir.ui.view">
    <field name="name">helpdesk.estancia.form</field>
    <field name="model">res.partner.estancia_id</field>
    <field name="arch" type="xml">
        <form string="Estancia">
            <sheet>
                <group>
                    <field name="name"/>
                </group>
            </sheet>
        </form>
    </field>
</record>

<record id="view_helpdesk_obra_secundaria_form" model="ir.ui.view">
    <field name="name">helpdesk.obra_secundaria.form</field>
    <field name="model">res.partner.obra_secundaria</field>
    <field name="arch" type="xml">
        <form string="Obra/Sede">
            <sheet>
                <group>
                    <field name="name"/>
                </group>
            </sheet>
        </form>
    </field>
</record>

<record id="action_helpdesk_estancia" model="ir.actions.act_window">
    <field name="name">Estancia</field>
    <field name="res_model">res.partner.estancia_id</field>
    <field name="view_mode">tree,form</field>
    <field name="help" type="html">
        <p class="o_view_nocontent_smiling_face">
            Create a new Estancia
        </p>
    </field>
</record>

    <template id="portal_helpdesk_form_inherit" inherit_id="website_helpdesk.team_form_1">
        <xpath expr="//div[input[@name='partner_email']]" position="after">
            <t t-if="request.env.user.partner_id">
               
                 <!-- Campo Sede/Obra -->
                <div class="mb-0 py-2 s_website_form_field col-12">
                    <div class="row s_col_no_resize s_col_no_bgcolor">
                        <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px">
                            <span class="s_website_form_label_content">Sede/Obra</span>
                        </label>
                        <div class="col-sm">
                            <field name="obra_secundaria" widget="many2one" options="{'no_create': False}" class="form-control s_website_form_input"/>
                        </div>
                    </div>
                </div>

                <!-- Campo Estancia -->
                <div class="mb-0 py-2 s_website_form_field col-12">
                    <div class="row s_col_no_resize s_col_no_bgcolor">
                        <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px">
                            <span class="s_website_form_label_content">Estancia</span>
                        </label>
                        <div class="col-sm">
                            <field name="estancia_id" widget="many2one" options="{'no_create': False}" class="form-control s_website_form_input"/>
                        </div>
                    </div>
                </div>
                
                <!-- Campo Categoría -->
                <div class="mb-0 py-2 s_website_form_field col-12" data-type="selection" data-name="categoria">
                    <div class="row s_col_no_resize s_col_no_bgcolor">
                        <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="helpdesk_categoria">
                            <span class="s_website_form_label_content">Categoría</span>
                        </label>
                        <div class="col-sm">
                            <select class="form-control s_website_form_input" name="categoria" id="helpdesk_categoria">
                                <option value="bricolage">Bricolaje</option>
                                <option value="fontaneria">Fontanería</option>
                                <option value="climatizacion">Climatización</option>
                                <option value="electricidad">Electricidad</option>
                                <option value="albañileria">Albañilería</option>
                                <option value="varios">Varios</option>
                                <option value="tic-ordenadores">Tic-Ordenadores</option>
                                <option value="mantenimiento">Mantenimiento</option>
                                <option value="pintura">Pintura</option>
                                <option value="herreria">Herrería</option>
                                <option value="jardineria">Jardinería</option>
                                <option value="carpinteria">Carpintería</option>
                                <option value="cristaleria">Cristalería</option>
                            </select>
                        </div>
                    </div>
                </div>
            </t>
        </xpath>
    </template>
</odoo>
