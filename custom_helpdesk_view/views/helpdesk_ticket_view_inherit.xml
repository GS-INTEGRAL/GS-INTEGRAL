<odoo>
    <data>
        <!-- Crear un nuevo grupo para clientes -->
        <record id="group_custom_helpdesk_customer" model="res.groups">
            <field name="name">Custom Helpdesk Customer Group</field>
            <field name="category_id" ref="base.module_category_helpdesk"/>
        </record>

        <!-- Vista heredada -->
        <record id="view_helpdesk_ticket_form_inherit_customer" model="ir.ui.view">
            <field name="name">helpdesk.ticket.form.inherit.customer</field>
            <field name="model">helpdesk.ticket</field>
            <field name="inherit_id" ref="helpdesk.helpdesk_ticket_view_form"/>  <!-- Asegúrate de que este ID sea correcto -->
            <field name="arch" type="xml">
                <xpath expr="//sheet" position="inside">
                    <sheet>
                        <group>
                            <!-- Campos visibles para los clientes -->
                            <field name="partner_id" placeholder="Cliente"/>
                            <field name="ticket_type_id" placeholder="Tipo"/>
                            <field name="name" string="Título Incidencia" placeholder="Asunto"/>
                            <field name="description" string="Descripción"/>                            
                            <field name="priority" widget="priority"/>
                            
                            <!-- Ocultar campos innecesarios -->
                            <field name="stage_id" invisible="1"/>
                            <field name="legend_blocked" invisible="1"/>
                            <field name="legend_normal" invisible="1"/>
                            <field name="legend_done" invisible="1"/>
                            <field name="rating_count" invisible="1"/>
                            <field name="use_rating" invisible="1"/>
                            <field name="rating_avg" invisible="1"/>
                            <field name="company_id" invisible="1"/>
                            <field name="team_privacy_visibility" invisible="1"/>
                            <field name="active" invisible="1"/>
                            <field name="team_id" invisible="1"/>
                            <field name="user_id" invisible="1"/>
                            <field name="domain_user_ids" invisible="1"/>
                            <field name="email_cc" invisible="1"/>
                            <field name="properties" invisible="1"/>
                        </group>
                    </sheet>
                </xpath>
            </field>
        </record>
    </data>
</odoo>
